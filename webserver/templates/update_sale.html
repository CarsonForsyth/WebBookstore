{% extends "navigation.html" %}
{% block content %}
{% if sale %}
    <h2>Update Sale</h2>
    <form action="/update-sale" method="POST">
        <div class="form-group">
            <label for="name">Sale Name</label>
            <input type="text" class="form-control" name="name" value="{{sale['name']}}">
        </div>
        <div class="form-group">
            <label for="date_start">Start Date</label>
            <input type="date" class="form-control" name="date_start" value="{{sale['date_start']}}">
        </div>
        <div class="form-group">
            <label for="date_end">End Date</label>
            <input type="date" class="form-control" name="date_end" value="{{sale['date_end']}}">
        </div>
        <div class="form-group">
            <label for="discount">Discount (From 0-1)</label>
            <input type="number" step="0.01" min="0" max="1" class="form-control" name="discount"  value="{{sale['discount']}}">
        </div>
        <input type="hidden" value="{{sale['id']}}" name="sale_id">
        <br>
        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-dark">Update Sale</button>
        </div>
    </form>
    <h2>Add a Book to Discount</h2>
    <form action="/update-sale-discounts" method="POST">
        <div class="form-group">
            <label for="isbn13">ISBN (13)</label>
            <input type="number" class="form-control" name="isbn13">
        </div>
        <input type="hidden" value="{{sale['id']}}" name="sale_id">
        <br>
        <div class="d-grid gap-2">
            <button type="submit" class="btn btn-dark">Add Book</button>
        </div>
    </form>
    {% if book_list %}
        <div class="row">
            {% for book in book_list %}
                {% include "book_card.html" %}
            {% endfor %}
      </div>
    {% endif %}
{% else %}
<h2>Create a new Sale</h2>
<form action="/update-sale" method="POST">
    <div class="form-group">
        <label for="name">Sale Name</label>
        <input type="text" class="form-control" name="name">
    </div>
    <div class="form-group">
        <label for="date_start">Start Date</label>
        <input type="date" class="form-control" name="date_start">
    </div>
    <div class="form-group">
        <label for="date_end">End Date</label>
        <input type="date" class="form-control" name="date_end">
    </div>
    <div class="form-group">
        <label for="discount">Discount (From 0-1)</label>
        <input type="number"  step="0.01" min="0" max="1" class="form-control" name="discount">
    </div>
    <br>
    <div class="d-grid gap-2">
        <button type="submit" class="btn btn-dark">Add Sale</button>
    </div>
</form>
{% endif %}

{% endblock %}